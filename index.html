<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0" />
    <title>SmartHome Installer</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              brand: {
                50: '#f0f9ff',
                100: '#e0f2fe',
                500: '#0ea5e9',
                600: '#0284c7',
                900: '#0c4a6e',
              }
            }
          }
        }
      }
    </script>
    <script>
      (function () {
        function send(message, data) {
          try {
            fetch('/api/debug/log', {
              method: 'POST',
              headers: { 'Content-Type': 'application/json' },
              body: JSON.stringify({
                sessionId: 'debug-session',
                runId: 'pre-fix',
                hypothesisId: 'I',
                location: 'index.html:boot',
                message: message,
                data: data || {},
                timestamp: Date.now()
              })
            });
          } catch (_) {}
        }

        send('boot_start', { userAgent: navigator.userAgent });

        window.addEventListener('error', function (e) {
          send('window_error', {
            message: e.message,
            filename: e.filename,
            lineno: e.lineno,
            colno: e.colno
          });
        });

        window.addEventListener('unhandledrejection', function (e) {
          send('unhandled_rejection', {
            reason: e.reason && e.reason.message ? e.reason.message : String(e.reason || 'unknown')
          });
        });
      })();
    </script>
    <style>
      /* Hide scrollbar for cleaner mobile UI */
      .no-scrollbar::-webkit-scrollbar {
        display: none;
      }
      .no-scrollbar {
        -ms-overflow-style: none;
        scrollbar-width: none;
      }
      body {
        background-color: #f8fafc;
        overscroll-behavior-y: none; /* Prevent pull-to-refresh on mobile */
      }
    </style>
</head>
  <body>
    <div id="root"></div>
  <script type="module" src="/index.tsx"></script>
</body>
</html>